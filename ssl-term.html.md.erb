---
title: Configuring Pivotal CF SSL Termination
---

Pivotal CF deploys with SSL termination turned on by default, but does not
deploy with a pre-configured load balancer.
You must configure the Pivotal-deployed HAProxy load balancer or your own load
balancer to use SSL termination.
Select an SSL termination method to determine the steps you must take to
configure Elastic Runtime.

##<a id="haproxy"></a>Using the Pivotal HAProxy Load Balancer##

Pivotal deploys the HAProxy load balancer by default.
To use the HAProxy load balancer, you must create a wildcard A record in your
DNS and configure three fields in Elastic Runtime.

1. Create an A record in your DNS that points to the HAProxy IP address.
    <br />
    <br />
    For example, with `cf.example.com` as the main subdomain for your CF install
	and an HAProxy IP address `172.16.1.1`, you must create an A record in your
	DNS that serves `example.com` and points `*.cf` to `172.16.1.1`.

    <table border="1" class="nice" >
        <tr>
            <th>Name</th>
			<th>Type</th>
			<th>Data</th>
			<th>Domain</th>
		</tr>
		<tr>
		    <td>*.cf</td>
		    <td>A</td>
		    <td>176.16.1.1</td>
		    <td>example.com</td>
        </tr>
	</table>

1. Use the `host` command to test your DNS entry. The `host` command should
return your HAProxy IP address.

	Example:
	<pre class='terminal'>
	$ host cf.example.com
    cf.example.com has address 172.16.1.1
	$ host anything.example.com
    anything.cf.example.com has address 172.16.1.1
	</pre>

1. Configure two fields on the HAProxy page in Elastic Runtime:
    * **HAProxy IPs**: Enter the IP address for HAProxy.
    The HAProxy IP address must be in your subnet.
    * **SSL Certificate**:  If you are using a signed certificate from a
    well-known certificate authority (CA), you can import it.
    Alternatively, you can [generate a self-signed RSA certificate](../getstarted/index.html#generate-rsa-cert).

	<p class='note'><strong>Note</strong>: The domains you use when you generate
	RSA public and private keys must match the wildcard A record that you
	create for the HAProxy.
	</p>

1. Configure one field on the Router IPs page in Elastic Runtime:
    * **Router IPs**: Leave this field blank.
	HAProxy assigns the router IPs internally.

[Return to the Getting Started Guide](../getstarted/index.html)

##<a id="other"></a>Using Another Load Balancer ##

To use any other load balancer, you must register static IP addresses for
Pivotal CF with your load balancer and configure three fields in Pivotal Ops
Manager.

1. Register one or more static IP address for Pivotal CF with your load
balancer.

1. Configure two fields on the HAProxy page in Elastic Runtime:
    * **HAProxy IPs**: Leave blank.
    * **SSL Certificate**:  If you are using a signed certificate from a
    well-known certificate authority (CA), you can import it.
    Alternatively, you can [generate a self-signed RSA certificate](../getstarted/index.html#generate-rsa-cert).

1. Configure one field on the Router IPs page in Elastic Runtime:
    * **Router IPs**: Enter the static IP address for Pivotal CF that you have
	registered with your load balancer.

[Return to the Getting Started Guide](../getstarted/index.html)