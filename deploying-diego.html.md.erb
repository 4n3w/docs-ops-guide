---
title: Deploying Diego Beta
---

This topic contains instructions for setting up a Windows cell in a Diego deployment. See the [Diego Beta Overview](./diego-overview.html) topic for general information on Diego beta.

## <a id='prequisites'></a> Prerequisites

* A working Diego deployment. Refer to [Diego Beta Overview](./diego-overview.html) for instructions.
* A Windows cell

<p class='note'><strong>Note</strong>: We recommend that you used the following Windows ISO SHA1: <code>B6F063436056510357CB19CB77DB781ED9C11DF3</code>.</p>

## <a id='install-windows-server'></a> Step 1: Set Up the Windows Cell ##

Download the `setup.ps1` file from [Pivotal Network](https://network.pivotal.io/products/pivotal-diego-pcf). From your file explorer, right-click the `setup.ps1` file and click **Run with powershell**. The script configures the required Windows features, DNS settings, and your firewall for your Windows cell.

## <a id='msi'></a> Step 2: Install the MSI ##

<%= partial 'msi-env-vars' %>

## <a id='confirm-deployment'></a> Step 3: Confirm Successful Deployment##

After successful deployment, the following jobs are running:

  * Consul
  * Containerizer
  * Executor
  * GardenWindows
  * Rep

## <a id='push-dot-net-app'></a> Step 4: Push a .Net application ##

Clone the sample app Nora from [GitHub](https://github.com/pivotal-cf-experimental/nora/tree/master/assets/nora).

Run the following command:

<pre class='terminal'>
./make_a_nora
</pre>

This script executes the commands below to push, configure, and start your application.

<pre class='terminal'>
cf push $APPNAME -s windows2012R2 -b https://github.com/ryandotsmith/null-buildpack.git --no-start
cf set-env $APPNAME DIEGO_BETA true
cf set-env $APPNAME DIEGO_RUN_BETA true
cf enable-diego $APPNAME
cf start $APPNAME
</pre>

<p class='note'><strong>Note</strong>: <code>cf push</code> does not use the given buildpack. It is necessary to specify one at this point, so use the null-buildpack. The <a href='https://github.com/ryandotsmith/null-buildpack'>null buildpack</a> is not available on PCF by default.
</p>

Run `cf apps` to confirm that your app is in the `started` state.
