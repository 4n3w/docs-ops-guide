---
title: Configuring LDAP
owner: Identity
---

<strong><%= modified_date %></strong>

This topic describes connecting [Pivotal Cloud Foundry&reg;](https://network.pivotal.io/products/pivotal-cf) (PCF) Elastic Runtime to LDAP by integrating the Cloud Foundry User Account and Authentication server with LDAP.

The Cloud Foundry User Account and Authentication
([UAA](https://github.com/cloudfoundry/uaa/tree/develop)) server provides
identity management for Elastic Runtime in three ways:

* Issues tokens for use by client applications when they act on behalf of
Elastic Runtime users
* Authenticates users with their Elastic Runtime credentials
* Acts as an SSO service using Elastic Runtime or other credentials

You can integrate the UAA with a Lightweight Directory Access Protocol (LDAP)
server.
Connecting Elastic Runtime to LDAP allows the UAA to authenticate users using
LDAP search and bind operations.

See [Adding Existing LDAP Users to a PCF Deployment](../customizing/ldap-user-management.html) for information about managing user identity with LDAP in PCF.

##Configuring the LDAP Endpoint ##

To integrate the UAA with LDAP, configure Elastic Runtime with your LDAP
endpoint information as follows:

1. Log into the Pivotal Cloud Foundry Operations Manager web interface.

1. On the Product Dashboard, select **Pivotal Elastic Runtime**.

    <%=image_tag("uaa/er-tile.png")%>

1. In the left navigation menu, select **LDAP Config**.
    <%=image_tag("uaa/ldap-config.png")%>

1. Enter the following LDAP endpoint configuration information:
    * **Server URL**: A URL pointing to the LDAP server.
This must include one of the following protocols:
        * `ldap://`: This specifies that the LDAP server uses an unencrypted
		connection.
        * `ldaps://`: This specifies that the LDAP server uses SSL for an
		encrypted connection and requires that the LDAP server holds a trusted
		certificate or that you import a trusted certificate to the JVM
		truststore.
    * **LDAP Credentials**: The LDAP Distinguished Name (DN) and password for
	binding to the LDAP Server. Example DN: `cn=administrator,ou=Users,dc=example,dc=com`
    <p class="note"><strong>Note</strong>: Pivotal recommends that you provide LDAP credentials that grant read-only
	permissions on the User Search Base.</p>
    * **User Search Base**: The location in the LDAP directory tree from which
	any LDAP User search begins.
	The typical User Search Base matches your domain name.
<br /><br />
    For example, a domain named "cloud.example.com" typically uses the following User Search Base: `ou=Users,dc=example,dc=com`
<br /><br />
    * **User Search Filter**: A string that defines LDAP User search criteria.
	These search criteria allow LDAP to perform more effective and efficient
	searches. For example, the standard LDAP search filter `cn=Smith` returns
	all objects with a common name equal to `Smith`.
<br /><br />
	In the LDAP search filter string that you use to configure Elastic Runtime,
	use `{0}` instead of the username.
	For example, use `cn={0}` to return all LDAP objects with the same common
	name as the username.
<br /><br />
    In addition to `cn`, other attributes commonly searched for and returned are
	`mail`, `uid` and, in the case of Active Directory, `sAMAccountName`.
<br /><br />
	* **Admin Groups**: If you want to map LDAP groups to the Admin role, select **Enable Admin Groups** and complete the following fields. Otherwise, select **No Groups**.
		* **Group Search Base**: Enter the location in the LDAP directory tree from which the LDAP Group search begins. For example, a domain named “cloud.example.com” typically uses the following Group Search Base: `ou=Groups,dc=example,dc=com`. Review the instructions in the Granting Admin Permissions to an LDAP Group section of the [Creating and Managing Users with the UAA CLI (UAAC)](../adminguide/uaa-user-management.html#ldap-group) topic for more information. 
		* **Group Search Filter**: Enter the string that defines LDAP Group search criteria by replacing the `0` in `member={0}` with the user DN.
<br /><br />
    * **Server SSL Cert**: Paste in the root certificate of your CA certificate or your self-signed certificate. Required only for `ldaps://`.
    * **Server SSL AltName**: Enter a Subject Alternative Name for your certificate. Required only for `ldaps://`.
    * **Email Attribute**: Enter the name of the attribute that contains the user's email address.

1. Click **Save**.

1. Click the **Installation Dashboard** link to return to the Installation
Dashboard.

1. On the Installation Dashboard, click **Apply Changes**.

    <%=image_tag("uaa/apply-changes.png")%>

